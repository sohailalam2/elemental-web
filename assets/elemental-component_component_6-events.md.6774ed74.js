import{_ as s,c as n,o as a,a as e}from"./app.383c6a50.js";const u=JSON.parse('{"title":"Component Events","description":"","frontmatter":{},"headers":[],"relativePath":"elemental-component/component/6-events.md"}'),l={name:"elemental-component/component/6-events.md"},p=e(`<h1 id="component-events" tabindex="-1">Component Events <a class="header-anchor" href="#component-events" aria-hidden="true">#</a></h1><p>Events are a way for different parts of your application to communicate with each other. When an event is triggered, it sends a message to any listeners that have registered to receive it. This makes it possible for different components or different parts of the same component to react to changes in the state of your application and update their own views accordingly.</p><p>Events are an important part of the web component model because they allow you to create modular, reusable components that can interact with each other in meaningful ways. By defining clear event interfaces and using them consistently throughout your application, you can create a robust and flexible architecture that is easy to maintain and extend over time.</p><h2 id="raising-events" tabindex="-1">Raising Events <a class="header-anchor" href="#raising-events" aria-hidden="true">#</a></h2><p><code>ElementalComponent</code> comes with helper method <code>raiseEvent(...)</code> to let you dispatch any kind of event, be it native or custom:</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki slack-dark vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#C586C0;">export</span><span style="color:#E6E6E6;"> </span><span style="color:#569CD6;">class</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">MyComponent</span><span style="color:#E6E6E6;"> </span><span style="color:#569CD6;">extends</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">ElementalComponent</span><span style="color:#E6E6E6;"> {</span></span>
<span class="line"><span style="color:#E6E6E6;">  </span><span style="color:#569CD6;">public</span><span style="color:#E6E6E6;"> </span><span style="color:#DCDCAA;">raiseEvent</span><span style="color:#E6E6E6;">&lt;</span><span style="color:#4EC9B0;">Payload</span><span style="color:#E6E6E6;">&gt;(</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#6A9955;">// The name of the event</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#9CDCFE;">name</span><span style="color:#D4D4D4;">:</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">string</span><span style="color:#E6E6E6;">,</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#6A9955;">// Whether this is a custom event or a regular native event</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#9CDCFE;">isCustom</span><span style="color:#D4D4D4;">?:</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">boolean</span><span style="color:#E6E6E6;">,</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#6A9955;">// Custom events lets you add a payload of your choice...</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#6A9955;">// The payload will be serialized automatically</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#9CDCFE;">payload</span><span style="color:#D4D4D4;">?:</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">Payload</span><span style="color:#E6E6E6;">,</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#6A9955;">// Additional Options... see below for details</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#9CDCFE;">options</span><span style="color:#D4D4D4;">?:</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">EventOptions</span><span style="color:#E6E6E6;">,</span></span>
<span class="line"><span style="color:#E6E6E6;">  )</span><span style="color:#D4D4D4;">:</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">void</span><span style="color:#E6E6E6;"> {}</span></span>
<span class="line"><span style="color:#E6E6E6;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki slack-ochin vp-code-light" tabindex="0"><code><span class="line"><span style="color:#7B30D0;">export</span><span style="color:#002339;"> </span><span style="color:#0991B6;">class</span><span style="color:#002339;"> </span><span style="color:#0444AC;">MyComponent</span><span style="color:#002339;"> </span><span style="color:#DA5221;">extends</span><span style="color:#002339;"> </span><span style="color:#B02767;">ElementalComponent</span><span style="color:#002339;"> {</span></span>
<span class="line"><span style="color:#002339;">  </span><span style="color:#DA5221;">public</span><span style="color:#002339;"> </span><span style="color:#7EB233;">raiseEvent</span><span style="color:#002339;">&lt;</span><span style="color:#0444AC;">Payload</span><span style="color:#002339;">&gt;(</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#357B42;font-style:italic;">// The name of the event</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#B1108E;">name</span><span style="color:#7B30D0;">:</span><span style="color:#002339;"> </span><span style="color:#DC3EB7;">string</span><span style="color:#002339;">,</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#357B42;font-style:italic;">// Whether this is a custom event or a regular native event</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#B1108E;">isCustom</span><span style="color:#7B30D0;">?:</span><span style="color:#002339;"> </span><span style="color:#DC3EB7;">boolean</span><span style="color:#002339;">,</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#357B42;font-style:italic;">// Custom events lets you add a payload of your choice...</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#357B42;font-style:italic;">// The payload will be serialized automatically</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#B1108E;">payload</span><span style="color:#7B30D0;">?:</span><span style="color:#002339;"> </span><span style="color:#0444AC;">Payload</span><span style="color:#002339;">,</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#357B42;font-style:italic;">// Additional Options... see below for details</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#B1108E;">options</span><span style="color:#7B30D0;">?:</span><span style="color:#002339;"> </span><span style="color:#0444AC;">EventOptions</span><span style="color:#002339;">,</span></span>
<span class="line"><span style="color:#002339;">  )</span><span style="color:#7B30D0;">:</span><span style="color:#002339;"> </span><span style="color:#DC3EB7;">void</span><span style="color:#002339;"> {}</span></span>
<span class="line"><span style="color:#002339;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="eventoptions" tabindex="-1">EventOptions <a class="header-anchor" href="#eventoptions" aria-hidden="true">#</a></h3><p><code>EventOptions</code> interface exposes the following properties:</p><table><thead><tr><th>Option</th><th>Type (default)</th><th>Description</th></tr></thead><tbody><tr><td>bubbles</td><td>boolean (<code>true</code>)</td><td>A boolean value indicating whether the event bubbles.</td></tr><tr><td>cancelable</td><td>boolean (<code>true</code>)</td><td>A boolean value indicating whether the event can be cancelled.</td></tr><tr><td>composed</td><td>boolean (<code>true</code>)</td><td>A boolean value indicating whether the event will trigger listeners outside of a shadow root. Read more <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/composed" target="_blank" rel="noreferrer">here</a></td></tr></tbody></table><h3 id="example" tabindex="-1">Example <a class="header-anchor" href="#example" aria-hidden="true">#</a></h3><p>You can raise events from the component as follows:</p><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki slack-dark vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#6A9955;">// raise a CustomEvent named \`button-clicked\` and with a string payload</span></span>
<span class="line"><span style="color:#569CD6;">const</span><span style="color:#E6E6E6;"> </span><span style="color:#9CDCFE;">payload</span><span style="color:#E6E6E6;"> </span><span style="color:#D4D4D4;">=</span><span style="color:#E6E6E6;"> </span><span style="color:#CE9178;">\`You have clicked my button </span><span style="color:#569CD6;">\${</span><span style="color:#9CDCFE;">count</span><span style="color:#569CD6;">}</span><span style="color:#CE9178;"> times\`</span><span style="color:#E6E6E6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#569CD6;">this</span><span style="color:#E6E6E6;">.</span><span style="color:#DCDCAA;">raiseEvent</span><span style="color:#E6E6E6;">(</span><span style="color:#CE9178;">&#39;button-clicked&#39;</span><span style="color:#E6E6E6;">, </span><span style="color:#569CD6;">true</span><span style="color:#E6E6E6;">, </span><span style="color:#9CDCFE;">payload</span><span style="color:#E6E6E6;">);</span></span>
<span class="line"></span></code></pre><pre class="shiki slack-ochin vp-code-light" tabindex="0"><code><span class="line"><span style="color:#357B42;font-style:italic;">// raise a CustomEvent named \`button-clicked\` and with a string payload</span></span>
<span class="line"><span style="color:#0991B6;">const</span><span style="color:#002339;"> </span><span style="color:#2F86D2;">payload</span><span style="color:#002339;"> </span><span style="color:#7B30D0;">=</span><span style="color:#002339;"> </span><span style="color:#A44185;">\`You have clicked my button \${</span><span style="color:#2F86D2;">count</span><span style="color:#A44185;">} times\`</span><span style="color:#002339;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#000000;">this</span><span style="color:#002339;">.</span><span style="color:#7EB233;">raiseEvent</span><span style="color:#002339;">(</span><span style="color:#A44185;">&#39;button-clicked&#39;</span><span style="color:#002339;">, </span><span style="color:#174781;">true</span><span style="color:#002339;">, </span><span style="color:#2F86D2;">payload</span><span style="color:#002339;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="listening-to-events" tabindex="-1">Listening to Events <a class="header-anchor" href="#listening-to-events" aria-hidden="true">#</a></h2><p>To listen to events, you can use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener" target="_blank" rel="noreferrer">addEventListener()</a> method, which is a native DOM API method. However, we will show you a much simpler way do the same that requires far less boilerplate code.</p><p><code>ElementalComponent</code> exposes multiple ways to register event listeners. All of these are compatible with each other, can be composed and allows configuration through the options given below:</p><h3 id="eventlistenerregistration-options" tabindex="-1">EventListenerRegistration Options <a class="header-anchor" href="#eventlistenerregistration-options" aria-hidden="true">#</a></h3><table><thead><tr><th>Option</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>name</td><td><code>string</code></td><td>A string with the name of the event. It is case-sensitive</td></tr><tr><td>handlerName</td><td><code>string</code></td><td>The handler method name as text</td></tr><tr><td>handler</td><td><code>(e: Event) =&gt; void</code></td><td>The handler as a method reference. The callback accepts a single parameter <code>e</code>, an object based on Event describing the event that has occurred, and it returns nothing.</td></tr><tr><td>attachTo</td><td><code>HTMLElement</code></td><td>The element this listener should be bound to. By default, the listener is bound to the component instance</td></tr><tr><td>isCustomEvent</td><td><code>boolean</code></td><td>Indicates whether this listener is meant to capture normal events or CustomEvents</td></tr><tr><td>options</td><td><code>object</code></td><td><a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#parameters" target="_blank" rel="noreferrer">EventListener Options</a></td></tr><tr><td>options.capture</td><td><code>boolean</code></td><td>A boolean value indicating that events of this type will be dispatched to the registered listener before being dispatched to any EventTarget beneath it in the DOM tree. If not specified, defaults to <code>true</code>.</td></tr><tr><td>options.passive</td><td><code>boolean</code></td><td>A boolean value that, if true, indicates that the function specified by listener will never call preventDefault(). If a passive listener does call preventDefault(), the user agent will do nothing other than generate a console warning. If not specified, defaults to false – except that in browsers other than Safari and Internet Explorer, defaults to true for the wheel, mousewheel, touchstart and touchmove events.</td></tr><tr><td>options.once</td><td><code>boolean</code></td><td>A boolean value indicating that the listener should be invoked at most once after being added. If true, the listener would be automatically removed when invoked. If not specified, defaults to false.</td></tr><tr><td>options.signal</td><td><code>AbortSignal</code></td><td>An AbortSignal. The listener will be removed when the given AbortSignal object&#39;s abort() method is called. If not specified, no AbortSignal is associated with the listener.</td></tr></tbody></table><h2 id="adding-event-listeners" tabindex="-1">Adding Event Listeners <a class="header-anchor" href="#adding-event-listeners" aria-hidden="true">#</a></h2><h3 id="register-using-eventlistener-decorator" tabindex="-1">Register Using <code>@EventListener()</code> decorator <a class="header-anchor" href="#register-using-eventlistener-decorator" aria-hidden="true">#</a></h3><p>This is by far the easiest and most intuitive way of registering event listeners. The decorator requires an event name parameter and allows an optional config.</p><p><code>@EventListener(&#39;event-name&#39;, options)</code></p><p>The optional config allows you to pass <code>attachTo</code>, <code>isCustomEvent</code>, <code>options</code> properties as described above. Compared to the above table, the only difference here is that the <code>attachTo</code> property accepts a string that is used as a query parameter to find the HTMLElement.</p><h4 id="example-1" tabindex="-1">Example <a class="header-anchor" href="#example-1" aria-hidden="true">#</a></h4><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki slack-dark vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#E6E6E6;">@</span><span style="color:#DCDCAA;">Component</span><span style="color:#E6E6E6;">()</span></span>
<span class="line"><span style="color:#C586C0;">export</span><span style="color:#E6E6E6;"> </span><span style="color:#569CD6;">class</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">Hero</span><span style="color:#E6E6E6;"> </span><span style="color:#569CD6;">extends</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">ElementalComponent</span><span style="color:#E6E6E6;"> {</span></span>
<span class="line"><span style="color:#E6E6E6;">  </span><span style="color:#DCDCAA;">render</span><span style="color:#E6E6E6;">() {</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#569CD6;">this</span><span style="color:#E6E6E6;">.</span><span style="color:#9CDCFE;">$root</span><span style="color:#E6E6E6;">.</span><span style="color:#9CDCFE;">innerHTML</span><span style="color:#E6E6E6;"> </span><span style="color:#D4D4D4;">=</span><span style="color:#E6E6E6;"> </span><span style="color:#CE9178;">\`</span></span>
<span class="line"><span style="color:#CE9178;">      &lt;section&gt;</span></span>
<span class="line"><span style="color:#CE9178;">        &lt;p class=&quot;name&quot;&gt;&lt;/p&gt;</span></span>
<span class="line"><span style="color:#CE9178;">        &lt;button&gt;Send Message&lt;/button&gt;</span></span>
<span class="line"><span style="color:#CE9178;">      &lt;/section&gt;</span></span>
<span class="line"><span style="color:#CE9178;">      \`</span><span style="color:#E6E6E6;">;</span></span>
<span class="line"><span style="color:#E6E6E6;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E6E6E6;">  </span><span style="color:#6A9955;">// Attach a regular event listener to the button in the component&#39;s DOM</span></span>
<span class="line"><span style="color:#E6E6E6;">  @</span><span style="color:#DCDCAA;">EventListener</span><span style="color:#E6E6E6;">(</span><span style="color:#CE9178;">&#39;click&#39;</span><span style="color:#E6E6E6;">, { </span><span style="color:#9CDCFE;">attachTo:</span><span style="color:#E6E6E6;"> </span><span style="color:#CE9178;">&#39;button&#39;</span><span style="color:#E6E6E6;"> })</span></span>
<span class="line"><span style="color:#E6E6E6;">  </span><span style="color:#569CD6;">protected</span><span style="color:#E6E6E6;"> </span><span style="color:#DCDCAA;">onButtonClick</span><span style="color:#E6E6E6;">() {</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#569CD6;">this</span><span style="color:#E6E6E6;">.</span><span style="color:#DCDCAA;">raiseEvent</span><span style="color:#E6E6E6;">(</span><span style="color:#CE9178;">&#39;TextUpdated&#39;</span><span style="color:#E6E6E6;">, </span><span style="color:#569CD6;">true</span><span style="color:#E6E6E6;">, </span><span style="color:#CE9178;">&#39;Hello World&#39;</span><span style="color:#E6E6E6;">);</span></span>
<span class="line"><span style="color:#E6E6E6;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E6E6E6;">  </span><span style="color:#6A9955;">// Attach a custom event listener to receive the event named &#39;TextUpdated&#39;</span></span>
<span class="line"><span style="color:#E6E6E6;">  @</span><span style="color:#DCDCAA;">EventListener</span><span style="color:#E6E6E6;">(</span><span style="color:#CE9178;">&#39;TextUpdated&#39;</span><span style="color:#E6E6E6;">, { </span><span style="color:#9CDCFE;">isCustomEvent:</span><span style="color:#E6E6E6;"> </span><span style="color:#569CD6;">true</span><span style="color:#E6E6E6;"> })</span></span>
<span class="line"><span style="color:#E6E6E6;">  </span><span style="color:#569CD6;">protected</span><span style="color:#E6E6E6;"> </span><span style="color:#DCDCAA;">onTextUpdated</span><span style="color:#E6E6E6;">(</span><span style="color:#9CDCFE;">e</span><span style="color:#D4D4D4;">:</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">Event</span><span style="color:#E6E6E6;">)</span><span style="color:#D4D4D4;">:</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">void</span><span style="color:#E6E6E6;"> {</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#569CD6;">const</span><span style="color:#E6E6E6;"> </span><span style="color:#9CDCFE;">payload</span><span style="color:#E6E6E6;"> </span><span style="color:#D4D4D4;">=</span><span style="color:#E6E6E6;"> (</span><span style="color:#9CDCFE;">e</span><span style="color:#E6E6E6;"> </span><span style="color:#C586C0;">as</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">CustomEvent</span><span style="color:#E6E6E6;">).</span><span style="color:#9CDCFE;">detail</span><span style="color:#E6E6E6;">;</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#6A9955;">// do something with the payload</span></span>
<span class="line"><span style="color:#E6E6E6;">  }</span></span>
<span class="line"><span style="color:#E6E6E6;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki slack-ochin vp-code-light" tabindex="0"><code><span class="line"><span style="color:#002339;">@</span><span style="color:#7EB233;">Component</span><span style="color:#002339;">()</span></span>
<span class="line"><span style="color:#7B30D0;">export</span><span style="color:#002339;"> </span><span style="color:#0991B6;">class</span><span style="color:#002339;"> </span><span style="color:#0444AC;">Hero</span><span style="color:#002339;"> </span><span style="color:#DA5221;">extends</span><span style="color:#002339;"> </span><span style="color:#B02767;">ElementalComponent</span><span style="color:#002339;"> {</span></span>
<span class="line"><span style="color:#002339;">  </span><span style="color:#7EB233;">render</span><span style="color:#002339;">() {</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#000000;">this</span><span style="color:#002339;">.</span><span style="color:#2F86D2;">$root</span><span style="color:#002339;">.</span><span style="color:#2F86D2;">innerHTML</span><span style="color:#002339;"> </span><span style="color:#7B30D0;">=</span><span style="color:#002339;"> </span><span style="color:#A44185;">\`</span></span>
<span class="line"><span style="color:#A44185;">      &lt;section&gt;</span></span>
<span class="line"><span style="color:#A44185;">        &lt;p class=&quot;name&quot;&gt;&lt;/p&gt;</span></span>
<span class="line"><span style="color:#A44185;">        &lt;button&gt;Send Message&lt;/button&gt;</span></span>
<span class="line"><span style="color:#A44185;">      &lt;/section&gt;</span></span>
<span class="line"><span style="color:#A44185;">      \`</span><span style="color:#002339;">;</span></span>
<span class="line"><span style="color:#002339;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#002339;">  </span><span style="color:#357B42;font-style:italic;">// Attach a regular event listener to the button in the component&#39;s DOM</span></span>
<span class="line"><span style="color:#002339;">  @</span><span style="color:#7EB233;">EventListener</span><span style="color:#002339;">(</span><span style="color:#A44185;">&#39;click&#39;</span><span style="color:#002339;">, { attachTo: </span><span style="color:#A44185;">&#39;button&#39;</span><span style="color:#002339;"> })</span></span>
<span class="line"><span style="color:#002339;">  </span><span style="color:#DA5221;">protected</span><span style="color:#002339;"> </span><span style="color:#7EB233;">onButtonClick</span><span style="color:#002339;">() {</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#000000;">this</span><span style="color:#002339;">.</span><span style="color:#7EB233;">raiseEvent</span><span style="color:#002339;">(</span><span style="color:#A44185;">&#39;TextUpdated&#39;</span><span style="color:#002339;">, </span><span style="color:#174781;">true</span><span style="color:#002339;">, </span><span style="color:#A44185;">&#39;Hello World&#39;</span><span style="color:#002339;">);</span></span>
<span class="line"><span style="color:#002339;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#002339;">  </span><span style="color:#357B42;font-style:italic;">// Attach a custom event listener to receive the event named &#39;TextUpdated&#39;</span></span>
<span class="line"><span style="color:#002339;">  @</span><span style="color:#7EB233;">EventListener</span><span style="color:#002339;">(</span><span style="color:#A44185;">&#39;TextUpdated&#39;</span><span style="color:#002339;">, { isCustomEvent: </span><span style="color:#174781;">true</span><span style="color:#002339;"> })</span></span>
<span class="line"><span style="color:#002339;">  </span><span style="color:#DA5221;">protected</span><span style="color:#002339;"> </span><span style="color:#7EB233;">onTextUpdated</span><span style="color:#002339;">(</span><span style="color:#B1108E;">e</span><span style="color:#7B30D0;">:</span><span style="color:#002339;"> </span><span style="color:#0444AC;">Event</span><span style="color:#002339;">)</span><span style="color:#7B30D0;">:</span><span style="color:#002339;"> </span><span style="color:#DC3EB7;">void</span><span style="color:#002339;"> {</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#0991B6;">const</span><span style="color:#002339;"> </span><span style="color:#2F86D2;">payload</span><span style="color:#002339;"> </span><span style="color:#7B30D0;">=</span><span style="color:#002339;"> (</span><span style="color:#2F86D2;">e</span><span style="color:#002339;"> </span><span style="color:#7B30D0;">as</span><span style="color:#002339;"> </span><span style="color:#0444AC;">CustomEvent</span><span style="color:#002339;">).</span><span style="color:#2F86D2;">detail</span><span style="color:#002339;">;</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#357B42;font-style:italic;">// do something with the payload</span></span>
<span class="line"><span style="color:#002339;">  }</span></span>
<span class="line"><span style="color:#002339;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="register-using-this-registereventlisteners-method" tabindex="-1">Register Using <code>this.registerEventListeners(...)</code> method <a class="header-anchor" href="#register-using-this-registereventlisteners-method" aria-hidden="true">#</a></h3><p>If you are not a fan of decorators or if you are programming in pure JS, this option allows you to simplify event listener registration.</p><p>It is important to note that this method should ideally be called inside the <code>connectedCallback()</code> lifecycle hook instead of the constructor.</p><h4 id="example-2" tabindex="-1">Example <a class="header-anchor" href="#example-2" aria-hidden="true">#</a></h4><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki slack-dark vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#E6E6E6;">@</span><span style="color:#DCDCAA;">Component</span><span style="color:#E6E6E6;">()</span></span>
<span class="line"><span style="color:#569CD6;">class</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">ButtonCounter</span><span style="color:#E6E6E6;"> </span><span style="color:#569CD6;">extends</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">ElementalComponent</span><span style="color:#E6E6E6;"> {</span></span>
<span class="line"><span style="color:#E6E6E6;">  </span><span style="color:#DCDCAA;">connectedCallback</span><span style="color:#E6E6E6;">() {</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#6A9955;">// ⚠️ Do not forget to call super method</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#569CD6;">super</span><span style="color:#E6E6E6;">.</span><span style="color:#DCDCAA;">connectedCallback</span><span style="color:#E6E6E6;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#6A9955;">// 👇 register listeners like so</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#569CD6;">this</span><span style="color:#E6E6E6;">.</span><span style="color:#DCDCAA;">registerEventListeners</span><span style="color:#E6E6E6;">([{ </span><span style="color:#9CDCFE;">name:</span><span style="color:#E6E6E6;"> </span><span style="color:#CE9178;">&#39;click&#39;</span><span style="color:#E6E6E6;">, </span><span style="color:#9CDCFE;">handler:</span><span style="color:#E6E6E6;"> </span><span style="color:#569CD6;">this</span><span style="color:#E6E6E6;">.</span><span style="color:#9CDCFE;">onClick</span><span style="color:#E6E6E6;"> }]);</span></span>
<span class="line"><span style="color:#E6E6E6;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E6E6E6;">  </span><span style="color:#DCDCAA;">render</span><span style="color:#E6E6E6;">() {</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#569CD6;">this</span><span style="color:#E6E6E6;">.</span><span style="color:#9CDCFE;">$root</span><span style="color:#E6E6E6;">.</span><span style="color:#9CDCFE;">innerHTML</span><span style="color:#E6E6E6;"> </span><span style="color:#D4D4D4;">=</span><span style="color:#E6E6E6;"> </span><span style="color:#CE9178;">\`&lt;button&gt;Click Me&lt;/button&gt;\`</span><span style="color:#E6E6E6;">;</span></span>
<span class="line"><span style="color:#E6E6E6;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E6E6E6;">  </span><span style="color:#DCDCAA;">onClick</span><span style="color:#E6E6E6;">() {</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#6A9955;">// do something</span></span>
<span class="line"><span style="color:#E6E6E6;">  }</span></span>
<span class="line"><span style="color:#E6E6E6;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki slack-ochin vp-code-light" tabindex="0"><code><span class="line"><span style="color:#002339;">@</span><span style="color:#7EB233;">Component</span><span style="color:#002339;">()</span></span>
<span class="line"><span style="color:#0991B6;">class</span><span style="color:#002339;"> </span><span style="color:#0444AC;">ButtonCounter</span><span style="color:#002339;"> </span><span style="color:#DA5221;">extends</span><span style="color:#002339;"> </span><span style="color:#B02767;">ElementalComponent</span><span style="color:#002339;"> {</span></span>
<span class="line"><span style="color:#002339;">  </span><span style="color:#7EB233;">connectedCallback</span><span style="color:#002339;">() {</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#357B42;font-style:italic;">// ⚠️ Do not forget to call super method</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#2F86D2;">super</span><span style="color:#002339;">.</span><span style="color:#7EB233;">connectedCallback</span><span style="color:#002339;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#357B42;font-style:italic;">// 👇 register listeners like so</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#000000;">this</span><span style="color:#002339;">.</span><span style="color:#7EB233;">registerEventListeners</span><span style="color:#002339;">([{ name: </span><span style="color:#A44185;">&#39;click&#39;</span><span style="color:#002339;">, handler: </span><span style="color:#000000;">this</span><span style="color:#002339;">.</span><span style="color:#2F86D2;">onClick</span><span style="color:#002339;"> }]);</span></span>
<span class="line"><span style="color:#002339;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#002339;">  </span><span style="color:#7EB233;">render</span><span style="color:#002339;">() {</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#000000;">this</span><span style="color:#002339;">.</span><span style="color:#2F86D2;">$root</span><span style="color:#002339;">.</span><span style="color:#2F86D2;">innerHTML</span><span style="color:#002339;"> </span><span style="color:#7B30D0;">=</span><span style="color:#002339;"> </span><span style="color:#A44185;">\`&lt;button&gt;Click Me&lt;/button&gt;\`</span><span style="color:#002339;">;</span></span>
<span class="line"><span style="color:#002339;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#002339;">  </span><span style="color:#7EB233;">onClick</span><span style="color:#002339;">() {</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#357B42;font-style:italic;">// do something</span></span>
<span class="line"><span style="color:#002339;">  }</span></span>
<span class="line"><span style="color:#002339;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="register-using-super-constructor-config" tabindex="-1">Register using <code>super()</code> constructor config <a class="header-anchor" href="#register-using-super-constructor-config" aria-hidden="true">#</a></h3><p>Finally, <code>ElementalComponent</code> does allow you to register event listeners in the constructor by passing the configuration via the <code>super()</code> constructor.</p><p>However, this is rarely used, and you can register event listeners via any of the above methods even if you are configuring other properties via the super constructor.</p><h4 id="example-3" tabindex="-1">Example <a class="header-anchor" href="#example-3" aria-hidden="true">#</a></h4><div class="language-ts line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki slack-dark vp-code-dark" tabindex="0"><code><span class="line"><span style="color:#E6E6E6;">@</span><span style="color:#DCDCAA;">Component</span><span style="color:#E6E6E6;">()</span></span>
<span class="line"><span style="color:#569CD6;">class</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">ButtonCounter</span><span style="color:#E6E6E6;"> </span><span style="color:#569CD6;">extends</span><span style="color:#E6E6E6;"> </span><span style="color:#4EC9B0;">ElementalComponent</span><span style="color:#E6E6E6;"> {</span></span>
<span class="line"><span style="color:#E6E6E6;">  </span><span style="color:#569CD6;">constructor</span><span style="color:#E6E6E6;">() {</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#6A9955;">// 👇 register listeners like so</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#569CD6;">super</span><span style="color:#E6E6E6;">({</span></span>
<span class="line"><span style="color:#E6E6E6;">      </span><span style="color:#9CDCFE;">eventHandlers:</span><span style="color:#E6E6E6;"> [</span></span>
<span class="line"><span style="color:#E6E6E6;">        {</span></span>
<span class="line"><span style="color:#E6E6E6;">          </span><span style="color:#9CDCFE;">name:</span><span style="color:#E6E6E6;"> </span><span style="color:#CE9178;">&#39;custom-event&#39;</span><span style="color:#E6E6E6;">,</span></span>
<span class="line"><span style="color:#E6E6E6;">          </span><span style="color:#9CDCFE;">handlerName:</span><span style="color:#E6E6E6;"> </span><span style="color:#CE9178;">&#39;onClick&#39;</span><span style="color:#E6E6E6;">,</span></span>
<span class="line"><span style="color:#E6E6E6;">          </span><span style="color:#9CDCFE;">isCustom:</span><span style="color:#E6E6E6;"> </span><span style="color:#569CD6;">true</span><span style="color:#E6E6E6;">,</span></span>
<span class="line"><span style="color:#E6E6E6;">        },</span></span>
<span class="line"><span style="color:#E6E6E6;">      ],</span></span>
<span class="line"><span style="color:#E6E6E6;">    });</span></span>
<span class="line"><span style="color:#E6E6E6;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E6E6E6;">  </span><span style="color:#DCDCAA;">render</span><span style="color:#E6E6E6;">() {</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#569CD6;">this</span><span style="color:#E6E6E6;">.</span><span style="color:#9CDCFE;">$root</span><span style="color:#E6E6E6;">.</span><span style="color:#9CDCFE;">innerHTML</span><span style="color:#E6E6E6;"> </span><span style="color:#D4D4D4;">=</span><span style="color:#E6E6E6;"> </span><span style="color:#CE9178;">\`&lt;button&gt;Click Me&lt;/button&gt;\`</span><span style="color:#E6E6E6;">;</span></span>
<span class="line"><span style="color:#E6E6E6;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E6E6E6;">  </span><span style="color:#6A9955;">// 👇 The name must match, case-sensitive</span></span>
<span class="line"><span style="color:#E6E6E6;">  </span><span style="color:#DCDCAA;">onClick</span><span style="color:#E6E6E6;">() {</span></span>
<span class="line"><span style="color:#E6E6E6;">    </span><span style="color:#6A9955;">// do something</span></span>
<span class="line"><span style="color:#E6E6E6;">  }</span></span>
<span class="line"><span style="color:#E6E6E6;">}</span></span>
<span class="line"></span></code></pre><pre class="shiki slack-ochin vp-code-light" tabindex="0"><code><span class="line"><span style="color:#002339;">@</span><span style="color:#7EB233;">Component</span><span style="color:#002339;">()</span></span>
<span class="line"><span style="color:#0991B6;">class</span><span style="color:#002339;"> </span><span style="color:#0444AC;">ButtonCounter</span><span style="color:#002339;"> </span><span style="color:#DA5221;">extends</span><span style="color:#002339;"> </span><span style="color:#B02767;">ElementalComponent</span><span style="color:#002339;"> {</span></span>
<span class="line"><span style="color:#002339;">  </span><span style="color:#0991B6;">constructor</span><span style="color:#002339;">() {</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#357B42;font-style:italic;">// 👇 register listeners like so</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#2F86D2;">super</span><span style="color:#002339;">({</span></span>
<span class="line"><span style="color:#002339;">      eventHandlers: [</span></span>
<span class="line"><span style="color:#002339;">        {</span></span>
<span class="line"><span style="color:#002339;">          name: </span><span style="color:#A44185;">&#39;custom-event&#39;</span><span style="color:#002339;">,</span></span>
<span class="line"><span style="color:#002339;">          handlerName: </span><span style="color:#A44185;">&#39;onClick&#39;</span><span style="color:#002339;">,</span></span>
<span class="line"><span style="color:#002339;">          isCustom: </span><span style="color:#174781;">true</span><span style="color:#002339;">,</span></span>
<span class="line"><span style="color:#002339;">        },</span></span>
<span class="line"><span style="color:#002339;">      ],</span></span>
<span class="line"><span style="color:#002339;">    });</span></span>
<span class="line"><span style="color:#002339;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#002339;">  </span><span style="color:#7EB233;">render</span><span style="color:#002339;">() {</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#000000;">this</span><span style="color:#002339;">.</span><span style="color:#2F86D2;">$root</span><span style="color:#002339;">.</span><span style="color:#2F86D2;">innerHTML</span><span style="color:#002339;"> </span><span style="color:#7B30D0;">=</span><span style="color:#002339;"> </span><span style="color:#A44185;">\`&lt;button&gt;Click Me&lt;/button&gt;\`</span><span style="color:#002339;">;</span></span>
<span class="line"><span style="color:#002339;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#002339;">  </span><span style="color:#357B42;font-style:italic;">// 👇 The name must match, case-sensitive</span></span>
<span class="line"><span style="color:#002339;">  </span><span style="color:#7EB233;">onClick</span><span style="color:#002339;">() {</span></span>
<span class="line"><span style="color:#002339;">    </span><span style="color:#357B42;font-style:italic;">// do something</span></span>
<span class="line"><span style="color:#002339;">  }</span></span>
<span class="line"><span style="color:#002339;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="deregister-event-listeners" tabindex="-1">Deregister Event Listeners <a class="header-anchor" href="#deregister-event-listeners" aria-hidden="true">#</a></h2><p><code>ElementalComponent</code> will automatically deregister all event listeners once the component is unmounted and when the <code>disconnectedCallback()</code> lifecycle hook is invoked.</p><p>Hence, it is important to note that if you are overriding the <code>disconnectedCallback()</code> lifecycle hook, then do not forget to call the <code>super.disconnectedCallback()</code> method in your overridden method.</p>`,37),o=[p];function t(r,c,i,y,E,d){return a(),n("div",null,o)}const b=s(l,[["render",t]]);export{u as __pageData,b as default};
